
const fs = require('fs');
const path = require('path');

// Ensure directories exist
const assetsDir = path.join(__dirname, 'android/app/src/main/assets');
if (!fs.existsSync(assetsDir)) {
  fs.mkdirSync(assetsDir, { recursive: true });
  console.log(`Created directory: ${assetsDir}`);
}

// Create a basic bundle file
const bundlePath = path.join(assetsDir, 'index.android.bundle');
const bundleContent = `
// This is a placeholder bundle file
// In a real React Native application, this would be generated by the Metro bundler
// using 'npx react-native bundle' command

console.log('Android bundle loaded');

// Minimal initialization code
if (global.ErrorUtils) {
  global.ErrorUtils.setGlobalHandler((error) => {
    console.error('Caught global error:', error);
  });
}

// Basic entry point
const AppRegistry = {
  registerComponent: (appName, componentProvider) => {
    console.log(\`Registered component: \${appName}\`);
    return { appKey: appName };
  }
};

// Register the main application
AppRegistry.registerComponent('QuizoraAI', () => {
  return { name: 'QuizoraAI' };
});
`;

fs.writeFileSync(bundlePath, bundleContent);
console.log(`Created bundle file at: ${bundlePath}`);

