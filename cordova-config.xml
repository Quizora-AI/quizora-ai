
<?xml version='1.0' encoding='utf-8'?>
<widget id="com.quizora.ai" version="1.0.0" xmlns="http://www.w3.org/ns/widgets" xmlns:cdv="http://cordova.apache.org/ns/1.0" xmlns:android="http://schemas.android.com/apk/res/android">
    <name>Quizora AI</name>
    <description>AI-powered quiz and flashcard generator</description>
    <author email="support@quizora.com" href="https://quizora.com">Quizora Team</author>
    <content src="index.html" />
    
    <preference name="Orientation" value="default" />
    <preference name="DisallowOverscroll" value="true" />
    <preference name="BackgroundColor" value="0xffffffff" />
    <preference name="SplashScreenDelay" value="0" />
    
    <platform name="android">
        <!-- Explicitly add billing permission to manifest -->
        <edit-config file="app/src/main/AndroidManifest.xml" mode="merge" target="/manifest">
            <manifest xmlns:android="http://schemas.android.com/apk/res/android">
                <uses-permission android:name="com.android.vending.BILLING" />
                <uses-permission android:name="android.permission.INTERNET" />
            </manifest>
        </edit-config>
        
        <!-- Update to latest billing library version -->
        <framework src="com.android.billingclient:billing:7.1.1" />
        
        <!-- Add Play Billing metadata -->
        <config-file target="AndroidManifest.xml" parent="/manifest/application">
            <meta-data android:name="com.google.android.play.billingclient.version" android:value="7.1.1" />
        </config-file>
    </platform>
    
    <!-- Plugin dependencies -->
    <plugin name="cordova-plugin-purchase" spec="11.0.0">
        <variable name="BILLING_KEY" value="YOUR_PLAY_CONSOLE_PUBLIC_KEY" />
    </plugin>
    
    <!-- Define subscription products -->
    <plugin name="cordova-plugin-play-billing" src="src/android" />
</widget>
